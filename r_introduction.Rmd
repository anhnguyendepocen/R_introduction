---
title: "Introduction to R"
author: "Hans H. Sievertsen"
output: 
  learnr::tutorial:
    css: css/style.css
runtime: shiny_prerendered
---



```{r setup, include=FALSE}
library(learnr)
library(tidyverse)
library(shinythemes)
library(aewr)
knitr::opts_chunk$set(echo = FALSE,cache=TRUE)
```





## 1 Our first R chart

*In this section we create our first chart using R.*

The following little block of code contains our first line of R code. Click the "Run Code" button on the right and let's see what happens.

```{r ch1-chart1, exercise=TRUE,  warning=FALSE, message=FALSE}
ggplot(data=wid_uk_t1,aes(x=Year,y=Income_share))+geom_line()

```

You should now see your first R chart. Congratulations! 

But how did that happen? Let's have a closer look at the R code. 


* The first line reads `ggplot()` which simply tells R that we want to create a chart.
* In the parentheses of the `ggplot()` function, we first write  `data=wid_data`. This tells R    to create a chart using the data `wid_uk_t1`. 
* We also add `aes(x=Year,y=Income_share)` to the `ggplot( )` function. This tells R to use the variable <tt>Year</tt> on the x-axis and <tt>Income_share</tt> on the y-axis in our chart.

Let's try just to run the first line and the code we just discussed:


```{r ch1-chart2, exercise=TRUE,  warning=FALSE, message=FALSE}
ggplot(data=wid_uk_t1,aes(x=Year,y=Income_share))

```


We just get a gray area without any lines or bars. But we already notice that the axes are expected. The x-axis (the horisontal axis) has a title "Year". That is because we told R to use the variable `Year` from the `wid_uk_t1` dataset on the x axis. We also see tick marks and tick labels on the x-axis. Likewise for the y-axis (the vertical axis). Here we also have a title, tick marks and labels. 

But why don't we have any line yet? That is because we need to tell R what to do with the data. So far we've only told R to load a dataset and create a chart object based on that dataset. We haven't told R anything about what type of chart to create. By writing `+geom_line()` we tell R to **add** a line chart to the chart object. This completes the code. Now it's your turn. Try to add `+geom_line()` in the code block below and click "Run Code" (you can get some help by clicking on "Hint" or you can simply look at your first R line above).

```{r ch1-chart3, exercise=TRUE,  warning=FALSE, message=FALSE}
ggplot(data=wid_uk_t1,aes(x=Year,y=Income_share))

```
```{r  ch1-chart3-hint-1}
ggplot(data=wid_uk_t1,aes(x=Year,y=Income_share))+geom_line()
```

Great! You were hopefully able to complete the code and generate the line chart again. Now, what if we wanted to add some points (also called markers or scatters) to the line. How do you think we could achieve it? Let's try with a quiz first. You will have to guess the answer, because we haven't told you how to create a chart with points, yet. But maybe you can guess it:

```{r quiz}
quiz(
question("How do we add points to our chart?",
answer("We add the code `+geom_point()`.", correct = TRUE),
answer("We add the code `+geom_area()`."),
answer("We add the code `+geom_bar()`.")

))
```

You can implement the right answer in the code block below. Again. The hints will guide you in the right direction. We also recommend that you try to see what happens if you implement the wrong answers. 
```{r ch1-chart4, exercise=TRUE,  warning=FALSE, message=FALSE}
ggplot(data=wid_uk_t1,aes(x=Year,y=Income_share))

```
```{r  ch1-chart4-hint-1}
ggplot(data=wid_uk_t1,aes(x=Year,y=Income_share))+geom_line()
```
```{r  ch1-chart4-hint-2}
ggplot(data=wid_uk_t1,aes(x=Year,y=Income_share))+geom_line()+geom_point()
```
Why did we ask you a question about something we haven't covered yet? To show you that R (and programming in general) is very logical. We can often guess what a function will do based on its name! 

Great. We've now completed our first chapter In this chapter we've covered:

* Creating a chart with the `ggplot()` function in R
* Specifying the data to be used in the chart using the `data=` command. 
* Specifying the variable to be used on the x-axis and the variable to be used on the y-axis using `aes(x=..,y=)`.
* Adding elements to our chart using `+`.
* Adding a line chart to our chart using `geom_line()`.
* Adding points to our chart using `geom_point()`.

Congratulations if all these topics are familiar to you know. You've already covered a lot of ground. If not, try to read the page again or send your question to Hans. 

Let's move on to chapter 2. 

## 2 Polishing our chart
